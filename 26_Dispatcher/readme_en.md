---
title: 26. Contract Dispatcher
tags:
  - cairo
  - starknet
  - interface
  - abi
  - erc20
  - dispatcher
---

# WTF Cairo Simple Tutorial: 26. Contract Dispatcher

I've been learning `cairo-lang` recently, solidifying my understanding of the details, and creating a "WTF Cairo Simple Tutorial" for beginners. This tutorial is based on `cairo 2.2.0` version.

Twitter: [@0xAA_Science](https://twitter.com/0xAA_Science)｜[@WTFAcademy\_](https://twitter.com/WTFAcademy_)

WTF Academy Community: [Discord](https://discord.gg/5akcruXrsk)｜[WeChat Group](https://docs.google.com/forms/d/e/1FAIpQLSe4KGT8Sh6sJ7hedQRuIYirOoZK_85miz3dw7vA1-YjodgJ-A/viewform?usp=sf_link)｜[Official Website wtf.academy](https://wtf.academy)

All code and tutorials are open-source on GitHub: [github.com/WTFAcademy/WTF-Cairo](https://github.com/WTFAcademy/WTF-Cairo)

---

In this chapter, we will introduce the Contract Dispatcher in Cairo, which is automatically generated by interface contracts to help you call other contracts, similar to interfaces in Solidity.

## Contract Dispatcher

When defining a contract, the compiler automatically generates a contract dispatcher to assist you in calling that contract. Let's take the `IMiniERC20` interface contract from our previous lesson as an example:

```rust
#[starknet::interface]
trait IMiniERC20<TContractState> {
    fn name(self: @TContractState) -> felt252;
    fn symbol(self: @TContractState) -> felt252;
}
```

During compilation, it generates a contract dispatcher `IMiniERC20Dispatcher` and a corresponding trait `IMiniERC20DispatcherTrait`. `IMiniERC20Dispatcher` is a `struct` that stores the contract address and encapsulates `call_contract_syscall`, making it convenient for developers to call functions in the target contract.

```rust
#[derive(Copy, Drop, starknet::Store, Serde)]
struct IMiniERC20Dispatcher {
    contract_address: starknet::ContractAddress,
}

trait IMiniERC20DispatcherTrait<T> {
    fn name(self: T) -> felt252;
    fn symbol(self: T) -> felt252;
}

impl IMiniERC20DispatcherImpl of IMiniERC20DispatcherTrait<IMiniERC20Dispatcher> {
    fn name(
        self: IMiniERC20Dispatcher
    ) -> felt252 {
        // Call the corresponding function using starknet::call_contract_syscall
    }
    fn symbol(
        self: IMiniERC20Dispatcher
    ) {
        // Call the corresponding function using starknet::call_contract_syscall
    }
}
```

Now, let's write a contract using the `Dispatcher` to call the `mini_erc_20` contract.

```rust
#[starknet::contract]
mod call_mini_erc_20 {
    use starknet::ContractAddress;
    use super::IMiniERC20DispatcherTrait;
    use super::IMiniERC20Dispatcher;

    #[storage]
    struct Storage {
    }

    #[external(v0)]
    fn get_name(self: @ContractState, contract_address: ContractAddress) -> felt252 {
        IMiniERC20Dispatcher{ contract_address }.name()
    }

    #[external(v0)]
    fn get_symbol(self: @ContractState, contract_address: ContractAddress) -> felt252 {
        IMiniERC20Dispatcher{ contract_address }.symbol()
    }
}
```

A few points to note:

- In the contract, you need to import `DispatcherTrait` and `Dispatcher`.
- When calling, you need to use `IMiniERC20Dispatcher` and pass the target contract address.

## Conclusion

In this chapter, we introduced the Contract Dispatcher in Cairo, which is automatically generated by interface contracts, making it convenient for you to call other contracts.
